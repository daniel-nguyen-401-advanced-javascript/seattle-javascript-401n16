# Class 10 --- Authentication

## Lecture Videos

[Tuesday](https://www.youtube.com/watch?v=cDPSgP5s4FE) || [Wednesday](https://www.youtube.com/watch?v=FrpnaxU7U9Q)

## Lecture Overview

Restricting access to information online is one of the foundational paradigms of the internet. Whether it's your online bank account, facebook profile, or a one-time viewing of a document to sign, getting "logged in" to a website is an everyday activity for almost every internet user.

Today, we'll be looking at ways to create an account and securely authenticate a user with their chosen username and password.

At the end of this class, you'll be able to:

-   [x] Describe the authentication process
-   [x] Understand cryptographic hash and cypher algorithms
-   [x] Model a user in your application and safely store their sensitive data
-   [x] Implement a Basic Authorization parser

Prior to class, review the readings below and answer the discussion questions in your reading repository.

## Reading

Modern web applications need to store sensitive information about their users. When a user provides an application with sensitive information, they are trusting that it will not be leaked or misused. It is the developers' responsibility to store that information responsibly.

Some information, like emails, usernames, and addresses can be stored in plain text - as long as the database is password protected there isn't much risk of that data being leaked. Other information, like a user's password, should be **encrypted** using a **hashing** algorithm before it is ever stored. This prevents anyone (including developers with database permissions) from ever getting access to the user's password.

Sensitive user data should _never_ be sent to clients. When a client asks to log in, they provide a password, and the server validates it. But a password (or any other sensitive information) is not sent from the server back to the client.

**Cryptography** is the science of finding methods to encode messages so that they can only be understood by someone who knows secret information required for decoding, called the **key**. A **Cryptographic Hash Algorithm** takes a piece of data and produces a **hash** that is deliberately difficult to decode. If identical data is passed into the algorithm, the same hash will always be produced.

For user data, we often has a user's password and store the irreversible hash string into the database. When the user needs to log in, they can send the server a plain text password which is hashed again by the server, and compared to the stored hashed value.

A **Cryptographic Cypher Algorithm** takes a piece of data and a key and produces **encrypted** data. Later, the encrypted data can be reversed into the original data by decrypting it using the same key. This is often generated by the server to signify an logged-in user. This encrypted data is sent to the client, and then returned to the server on future requests. Since only the server has the key, only the server can decrypt the given **token**, and verify the user.

**Basic Authorization** is a common method used to send a username and password in an HTTP request. The username and password are joined with a `:` and then "_base64 encoded_" and placed after the string `'Basic '`. The resulting string is set as the Authorization header.

A Server can decode the Basic Authorization header to retrieve the username and password. If the combination is validated, the server generally responds back to the client with some sort of validation response (**token**) so that the client can re-authenticate without having to continually send the `username:password` combination in plain text over the internet.

> NOTE: base64 encoding is not a form of encryption. The client and server must use HTTPS to protect the username and password as it travels across the network.

### External Reading / Viewing

Save or skim through the following links to help broaden your understanding.

| Links                                                                                |
| ------------------------------------------------------------------------------------ |
| [Securing Passwords](http://cs.wellesley.edu/~cs304/lectures/bcrypt/dustwell.html)   |
| [Basic Auth](https://en.wikipedia.org/wiki/Basic_access_authentication)              |
| [OWASP Auth Cheat-sheet](https://www.owasp.org/index.php/Authentication_Cheat_Sheet) |
| [Bcrypt Documentation](https://www.npmjs.com/package/bcrypt)                         |
| [Introduction to JWT](https://jwt.io/introduction/)                                  |

### Vocabulary

Familiarize yourself with the following vocabulary terms. We will be covering their definitions in class.

| Term           |
| -------------- |
| authentication |
| authorization  |
| encryption     |
| hashing        |
| session        |
| cookie         |
| token          |
| Basic Auth     |
| encoding       |
| secret         |
| cryptography   |

## Discussion Questions

Create a new markdown page in your reading notes repo for this class. On that page, answer the following questions. You will not be graded on correctness, but rather on your attempt to answer the question. Once you've created your new page, submit a link to that page using the canvas discussion entry field. Links should be somewhat of the format `https://USERNAME.github.io/reading-notes/class-##-reading`.

1. Why is authentication important?
2. Why should we be careful about storing a user's password?
3. What is the difference between hashing and encryption?
4. What is the difference between encryption and encoding?
5. What is a token used for?
